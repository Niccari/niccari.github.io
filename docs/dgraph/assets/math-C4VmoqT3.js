var H={exports:{}},U={},L={},X;function $(){return X||(X=1,function(n){function e(){return e=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var u=arguments[s];for(var T in u)Object.prototype.hasOwnProperty.call(u,T)&&(r[T]=u[T])}return r},e.apply(this,arguments)}Object.defineProperty(n,"__esModule",{value:!0});var t,a={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1};n.tokenTypes=void 0,(t=n.tokenTypes||(n.tokenTypes={}))[t.FUNCTION_WITH_ONE_ARG=0]="FUNCTION_WITH_ONE_ARG",t[t.NUMBER=1]="NUMBER",t[t.BINARY_OPERATOR_HIGH_PRECENDENCE=2]="BINARY_OPERATOR_HIGH_PRECENDENCE",t[t.CONSTANT=3]="CONSTANT",t[t.OPENING_PARENTHESIS=4]="OPENING_PARENTHESIS",t[t.CLOSING_PARENTHESIS=5]="CLOSING_PARENTHESIS",t[t.DECIMAL=6]="DECIMAL",t[t.POSTFIX_FUNCTION_WITH_ONE_ARG=7]="POSTFIX_FUNCTION_WITH_ONE_ARG",t[t.FUNCTION_WITH_N_ARGS=8]="FUNCTION_WITH_N_ARGS",t[t.BINARY_OPERATOR_LOW_PRECENDENCE=9]="BINARY_OPERATOR_LOW_PRECENDENCE",t[t.BINARY_OPERATOR_PERMUTATION=10]="BINARY_OPERATOR_PERMUTATION",t[t.COMMA=11]="COMMA",t[t.EVALUATED_FUNCTION=12]="EVALUATED_FUNCTION",t[t.EVALUATED_FUNCTION_PARAMETER=13]="EVALUATED_FUNCTION_PARAMETER",t[t.SPACE=14]="SPACE",n.createTokens=function(r){return[{token:"sin",show:"sin",type:0,value:r.math.sin},{token:"cos",show:"cos",type:0,value:r.math.cos},{token:"tan",show:"tan",type:0,value:r.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:r.math.P},{token:"C",show:"C",type:10,value:r.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:r.math.asin},{token:"acos",show:"acos",type:0,value:r.math.acos},{token:"atan",show:"atan",type:0,value:r.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:r.math.cosh},{token:"acosh",show:"acosh",type:0,value:r.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:r.math.div},{token:"!",show:"!",type:7,value:r.math.fact},{token:"tanh",show:"tanh",type:0,value:r.math.tanh},{token:"atanh",show:"atanh",type:0,value:r.math.atanh},{token:"Mod",show:" Mod ",type:2,value:r.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:r.math.mul},{token:"sinh",show:"sinh",type:0,value:r.math.sinh},{token:"asinh",show:"asinh",type:0,value:r.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:r.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:r.math.add},{token:"-",show:"-",type:9,value:r.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:r.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:r.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:r.math.and}].map(function(s){return e({},s,{precedence:a[s.type]})})},n.preced=a}(L)),L}var K;function te(){if(K)return U;K=1,Object.defineProperty(U,"__esModule",{value:!0});var n=$();function e(i,h){for(var p=0;p<i.length;p++)i[p]+=h;return i}var t={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0},a={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},r={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},s={},u={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},T={1:!0},o=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function y(i,h,p,O){for(var A=0;A<O;A++)if(i[p+A]!==h[A])return!1;return!0}function k(i,h){for(var p=0;p<h.length;p++)if(h[p].token===i)return p;return-1}return U.addToken=function(i){for(var h=0;h<i.length;h++){var p=i[h].token.length,O=-1;i[h].type===n.tokenTypes.FUNCTION_WITH_N_ARGS&&i[h].numberOfArguments===void 0&&(i[h].numberOfArguments=2),o[p]=o[p]||[];for(var A=0;A<o[p].length;A++)if(i[h].token===o[p][A]){O=k(o[p][A],this.tokens);break}O===-1?(this.tokens.push(i[h]),i[h].precedence=n.preced[i[h].type],o.length<=i[h].token.length&&(o[i[h].token.length]=[]),o[i[h].token.length].push(i[h].token)):(this.tokens[O]=i[h],i[h].precedence=n.preced[i[h].type])}},U.lex=function(i,h){var p,O={value:this.math.changeSign,type:n.tokenTypes.FUNCTION_WITH_ONE_ARG,precedence:4,show:"-"},A={value:")",show:")",type:n.tokenTypes.CLOSING_PARENTHESIS,precedence:0},d={value:"(",type:n.tokenTypes.OPENING_PARENTHESIS,precedence:0,show:"("},l=[d],E=[],ee=i,N=t,D=0,c=s,b="";h!==void 0&&this.addToken(h);var P=function(Y,M){for(var S,R,g,V=[],j=M.length,I=0;I<j;I++)if(!(I<j-1&&M[I]===" "&&M[I+1]===" ")){for(S="",R=M.length-I>o.length-2?o.length-1:M.length-I;R>0;R--)if(o[R]!==void 0)for(g=0;g<o[R].length;g++)y(M,o[R][g],I,R)&&(S=o[R][g],g=o[R].length,R=0);if(I+=S.length-1,S==="")throw new Error("Can't understand after "+M.slice(I));V.push(Y.tokens[k(S,Y.tokens)])}return V}(this,ee);for(p=0;p<P.length;p++){var w=P[p];if(w.type!==14){var m,F=w.token,f=w.type,C=w.value,q=w.precedence,G=w.show,v=l[l.length-1];for(m=E.length;m--&&E[m]===0;)if([n.tokenTypes.FUNCTION_WITH_ONE_ARG,n.tokenTypes.BINARY_OPERATOR_HIGH_PRECENDENCE,n.tokenTypes.CONSTANT,n.tokenTypes.OPENING_PARENTHESIS,n.tokenTypes.CLOSING_PARENTHESIS,n.tokenTypes.BINARY_OPERATOR_LOW_PRECENDENCE,n.tokenTypes.BINARY_OPERATOR_PERMUTATION,n.tokenTypes.COMMA,n.tokenTypes.EVALUATED_FUNCTION,n.tokenTypes.EVALUATED_FUNCTION_PARAMETER].indexOf(f)!==-1){if(N[f]!==!0)throw new Error(F+" is not allowed after "+b);l.push(A),N=a,c=u,E.pop()}if(N[f]!==!0)throw new Error(F+" is not allowed after "+b);c[f]===!0&&(f=n.tokenTypes.BINARY_OPERATOR_HIGH_PRECENDENCE,C=this.math.mul,G="&times;",q=3,p-=1);var _={value:C,type:f,precedence:q,show:G,numberOfArguments:w.numberOfArguments};if(f===n.tokenTypes.FUNCTION_WITH_ONE_ARG)N=t,c=s,e(E,1),l.push(_),P[p+1].type!==n.tokenTypes.OPENING_PARENTHESIS&&(l.push(d),E.push(2));else if(f===n.tokenTypes.NUMBER)v.type===n.tokenTypes.NUMBER?(v.value+=C,e(E,1)):l.push(_),N=a,c=r;else if(f===n.tokenTypes.BINARY_OPERATOR_HIGH_PRECENDENCE)N=t,c=s,e(E,2),l.push(_);else if(f===n.tokenTypes.CONSTANT)l.push(_),N=a,c=u;else if(f===n.tokenTypes.OPENING_PARENTHESIS)e(E,1),D++,N=t,c=s,l.push(_);else if(f===n.tokenTypes.CLOSING_PARENTHESIS){if(!D)throw new Error("Closing parenthesis are more than opening one, wait What!!!");D--,N=a,c=u,l.push(_),e(E,1)}else if(f===n.tokenTypes.DECIMAL){if(v.hasDec)throw new Error("Two decimals are not allowed in one number");v.type!==n.tokenTypes.NUMBER&&(v={show:"0",value:0,type:n.tokenTypes.NUMBER,precedence:0},l.push(v)),N=T,e(E,1),c=s,v.value+=C,v.hasDec=!0}else f===n.tokenTypes.POSTFIX_FUNCTION_WITH_ONE_ARG&&(N=a,c=u,e(E,1),l.push(_));f===n.tokenTypes.FUNCTION_WITH_N_ARGS?(N=t,c=s,e(E,w.numberOfArguments+2),l.push(_),P[p+1].type!==n.tokenTypes.OPENING_PARENTHESIS&&(l.push(d),E.push(w.numberOfArguments+2))):f===n.tokenTypes.BINARY_OPERATOR_LOW_PRECENDENCE?(v.type===n.tokenTypes.BINARY_OPERATOR_LOW_PRECENDENCE?v.value===this.math.add?(v.value=C,v.show=G,e(E,1)):v.value===this.math.sub&&G==="-"&&(v.value=this.math.add,v.show="+",e(E,1)):v.type!==n.tokenTypes.CLOSING_PARENTHESIS&&v.type!==n.tokenTypes.POSTFIX_FUNCTION_WITH_ONE_ARG&&v.type!==n.tokenTypes.NUMBER&&v.type!==n.tokenTypes.CONSTANT&&v.type!==n.tokenTypes.EVALUATED_FUNCTION_PARAMETER?F==="-"&&(N=t,c=s,e(E,1).push(2),l.push(O),l.push(d)):(l.push(_),e(E,2)),N=t,c=s):f===n.tokenTypes.BINARY_OPERATOR_PERMUTATION?(N=t,c=s,e(E,2),l.push(_)):f===n.tokenTypes.COMMA?(N=t,c=s,l.push(_)):f===n.tokenTypes.EVALUATED_FUNCTION?(N=t,c=s,e(E,6),l.push(_),P[p+1].type!==n.tokenTypes.OPENING_PARENTHESIS&&(l.push(d),E.push(6))):f===n.tokenTypes.EVALUATED_FUNCTION_PARAMETER&&(N=a,c=u,l.push(_)),e(E,-1),b=F}else if(p>0&&p<P.length-1&&P[p+1].type===1&&(P[p-1].type===1||P[p-1].type===6))throw new Error("Unexpected Space")}for(m=E.length;m--;)l.push(A);if(N[5]!==!0)throw new Error("complete the expression");for(;D--;)l.push(A);return l.push(A),l},U}var B={},z;function ne(){return z||(z=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.toPostfix=function(e){for(var t,a,r,s=[],u=-1,T=-1,o=[{value:"(",type:4,precedence:0,show:"("}],y=1;y<e.length;y++)if(e[y].type===1||e[y].type===3||e[y].type===13)e[y].type===1&&(e[y].value=Number(e[y].value)),s.push(e[y]);else if(e[y].type===4)o.push(e[y]);else if(e[y].type===5)for(;((k=a=o.pop())==null?void 0:k.type)!==4;){var k;a&&s.push(a)}else if(e[y].type===11){for(;((i=a=o.pop())==null?void 0:i.type)!==4;){var i;a&&s.push(a)}o.push(a)}else{T=(t=e[y]).precedence,u=(r=o[o.length-1]).precedence;var h=r.value=="Math.pow"&&t.value=="Math.pow";if(T>u)o.push(t);else{for(;u>=T&&!h||h&&T<u;)a=o.pop(),r=o[o.length-1],a&&s.push(a),u=r.precedence,h=t.value=="Math.pow"&&r.value=="Math.pow";o.push(t)}}return s}}(B)),B}var W={},J;function re(){return J||(J=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.postfixEval=function(e,t){(t=t||{}).PI=Math.PI,t.E=Math.E;for(var a,r,s,u=[],T=t.n!==void 0,o=0;o<e.length;o++)if(e[o].type===1)u.push({value:e[o].value,type:1});else if(e[o].type===3)u.push({value:t[e[o].value],type:1});else if(e[o].type===0){var y=u[u.length-1];Array.isArray(y)?y.push(e[o]):y.value=e[o].value(y.value)}else if(e[o].type===7){var k=u[u.length-1];Array.isArray(k)?k.push(e[o]):k.value=e[o].value(k.value)}else if(e[o].type===8){for(var i=[],h=0;h<e[o].numberOfArguments;h++){var p=u.pop();p&&i.push(p.value)}u.push({type:1,value:e[o].value.apply(e[o],i.reverse())})}else if(e[o].type===10)a=u.pop(),r=u.pop(),Array.isArray(r)?((r=r.concat(a)).push(e[o]),u.push(r)):Array.isArray(a)?(a.unshift(r),a.push(e[o]),u.push(a)):u.push({type:1,value:e[o].value(r.value,a.value)});else if(e[o].type===2||e[o].type===9)a=u.pop(),r=u.pop(),Array.isArray(r)?((r=r.concat(a)).push(e[o]),u.push(r)):Array.isArray(a)?(a.unshift(r),a.push(e[o]),u.push(a)):u.push({type:1,value:e[o].value(r.value,a.value)});else if(e[o].type===12){a=u.pop();var O=void 0;O=!Array.isArray(a)&&a?[a]:a||[],r=u.pop(),s=u.pop(),u.push({type:1,value:e[o].value(s.value,r.value,O)})}else e[o].type===13&&(T?u.push({value:t[e[o].value],type:3}):u.push([e[o]]));if(u.length>1)throw new Error("Uncaught Syntax error");return parseFloat(u[0].value.toFixed(15))}}(W)),W}var x={},Q;function oe(){return Q||(Q=1,Object.defineProperty(x,"__esModule",{value:!0}),x.createMathFunctions=function(n){return{isDegree:!0,acos:function(e){return n.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return n.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return n.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,t){var a=1,r=e-t,s=t;s<r&&(s=r,r=t);for(var u=s+1;u<=e;u++)a*=u;var T=n.math.fact(r);return T==="NaN"?"NaN":a/T},changeSign:function(e){return-e},cos:function(e){return n.math.isDegree&&(e=n.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!=0)return"NaN";for(var t=1,a=2;a<=e;a++)t*=a;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var a=1,r=Math.floor(e)-Math.floor(t)+1;r<=Math.floor(e);r++)a*=r;return a},Pi:function(e,t,a){for(var r=1,s=e;s<=t;s++)r*=Number(n.postfixEval(a,{n:s}));return r},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,a){for(var r=0,s=e;s<=t;s++)r+=Number(n.postfixEval(a,{n:s}));return r},sin:function(e){return n.math.isDegree&&(e=n.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return n.math.isDegree&&(e=n.math.toRadian(e)),Math.tan(e)},tanh:function(e){return n.math.sinh(e)/n.math.cosh(e)},toRadian:function(e){return e*Math.PI/180},and:function(e,t){return e&t}}}),x}var Z;function ae(){if(Z)return H.exports;Z=1;var n=te(),e=$(),t=ne(),a=re(),r=oe(),s=function(){function u(){this.toPostfix=t.toPostfix,this.addToken=n.addToken,this.lex=n.lex,this.postfixEval=a.postfixEval,this.math=r.createMathFunctions(this),this.tokens=e.createTokens(this)}return u.prototype.eval=function(T,o,y){return this.postfixEval(this.toPostfix(this.lex(T,o)),y)},u}();return s.TOKEN_TYPES=e.tokenTypes,s.tokenTypes=e.tokenTypes,H.exports=s,H.exports}export{ae as r};
